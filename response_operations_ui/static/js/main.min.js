(()=>{var e={736:()=>{window.readCSV={__private__:{}},window.readCSV.__private__.getOutputTemplate=function(e,r){var t="";return t+="<div class='panel panel--info'>",t+="  <div class='panel__header'>",t+="    <h3 class='u-fs-r--b u-mb-no'>Sample contents</h3>",t+="  </div>",t+="  <div class='panel__body'>",t+="    <div id='sample-preview-businesses'>Number of businesses: "+e+"</div>",t+="    <div id='sample-preview-ci'>Collection instruments: "+r+"</div>",(t+="  </div>")+"</div>"},window.readCSV.__private__.renderUI=function(e,r){document.getElementById("sample-preview").innerHTML=window.readCSV.__private__.getOutputTemplate(e,r),document.getElementById("btn-upload-sample").disabled=!1},window.readCSV.__private__.errorHandler=function(e){"NotReadableError"==e.target.error.name&&alerts.error("Error Uploading file","The selected file was not readable.")},window.readCSV.__private__.browserHasFileLoaderCapability=function(){return window.hasOwnProperty("FileReader")},window.readCSV.__private__.processFile=function(e,r){for(var t,n=e.target.result.split(/\r\n|\n/),a=[],i=[];n.length;){var o=n.shift().split(":");o&&o.length&&o[0]&&i.push(o)}if(r.indexOf("RU_REF")>-1)t=i.length;else if(r.indexOf("FORM_TYPE")>-1){for(var d=0;d<i.length;d++)a.push(i[d][i[d].length-2]);t=a.filter((function(e,r,t){return t.indexOf(e)===r})).length}window.readCSV.__private__.renderUI(i.length,t)},window.readCSV.handleFiles=function(e,r){if(window.readCSV.__private__.browserHasFileLoaderCapability()){var t=new FileReader;t.onload=function(e){window.readCSV.__private__.processFile(e,r)},t.onerror=window.readCSV.__private__.errorHandler,t.readAsText(e[0])}else alerts.warn("Your browser does not support file uploading.  Uploading of samples will not be possible.")},window.readCSV.handleFileUpload=function(){document.getElementById("btn-upload-sample").classList.add("is-loading"),document.getElementById("btn-upload-sample").style.pointerEvents="none",document.getElementById("btn-upload-sample").disabled=!1}},836:()=>{window.validateCI={__private__:{nodeClassesChange:function(e,r,t){if("string"==typeof r&&(r=[r]),!(e instanceof HTMLElement))throw new Error("Expected HTMLElement as first argument");if(!Array.isArray(r))throw new Error("Expected Array as second argument");if(-1===["add","remove"].indexOf(t))throw new Error("Expected add or remove as third parameter");r.map((function(r){return e.classList[t](r)}))},arrayLikeToArray:function(e){if(!("length"in e)&&!("size"in e))throw new Error("Expected array-like object as argument");return Array.prototype.slice.call(e)}},checkCI:function(e){var r=this,t=e.type,n=document.getElementById("ciFileErrorPanel"),a=document.getElementById("ciFileErrorPanelBody"),i=document.getElementById("btn-load-ci"),o="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"===t||"application/vnd.ms-excel"===t,d=o?"remove":"add",s=o?"add":"remove";this.__private__.nodeClassesChange(n,["ons-panel","ons-panel--simple","ons-panel--error"],d),this.__private__.nodeClassesChange(a,["ons-panel__body"],d),this.__private__.nodeClassesChange(i,["ons-btn--disabled"],s),this.__private__.arrayLikeToArray(a.querySelectorAll("p:not(.field)")).forEach((function(e){r.__private__.nodeClassesChange(e,["hidden"],s),r.__private__.nodeClassesChange(i,["ons-btn--disabled"],d)}))},checkSelectedCI:function(e){window.FileReader&&validateCI.checkCI(e[0])}}}},r={};function t(n){var a=r[n];if(void 0!==a)return a.exports;var i=r[n]={exports:{}};return e[n](i,i.exports,t),i.exports}t.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return t.d(r,{a:r}),r},t.d=(e,r)=>{for(var n in r)t.o(r,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})},t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),t.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var r=t.g.document;if(!e&&r&&(r.currentScript&&(e=r.currentScript.src),!e)){var n=r.getElementsByTagName("script");if(n.length)for(var a=n.length-1;a>-1&&(!e||!/^http(s?):/.test(e));)e=n[a--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e+"../"})(),(()=>{"use strict";t(736),t(836)})(),(()=>{"use strict";t.p})()})();
//# sourceMappingURL=main.min.js.map