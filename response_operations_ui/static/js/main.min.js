!function(e){var n={};function t(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,t),a.l=!0,a.exports}t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var a in e)t.d(r,a,function(n){return e[n]}.bind(null,a));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=0)}([function(e,n,t){t(1),t(2),t(3),t(4),t(5)},function(e,n){!function(e){var n={},t={_getErrorContainer:function(){return document.getElementById("error-alerts")},_clearAlerts:function(){t._getErrorContainer().innerHTML=""},_getPanelTemplateHtml:function(e,n,t){var r="";return r+='<div class="u-mt-l panel panel--'+(t||"error")+'">',r+='    <div class="panel__header">',r+='        <div class="u-fs-r--b">'+e+"</div>",r+="    </div>",r+='    <div class="panel__body">',r+="        <div>"+n+"</div>",r+="    </div>",r+="</div>"},_getSimplePanelTemplateHtml:function(e,n){var t="";return t+='<div class="u-mt-l panel panel--simple panel--'+(n||"error")+'">',t+='    <div class="panel__body">',t+="        <div>"+e+"</div>",t+="    </div>",t+="</div>"},_showAlert:function(e,n,r){return t._clearAlerts(),t._getErrorContainer().innerHTML=e?t._getPanelTemplateHtml(e,n,r||!1):t._getSimplePanelTemplateHtml(n,r||!1)}};["success","error","warn","info"].forEach((function(e){n[e]=function(n,r){t._showAlert(n,r,e)}})),e.alerts={__private__:{}},Object.keys(n).forEach((function(t){e.alerts[t]=n[t]})),Object.keys(t).forEach((function(n){e.alerts.__private__[n]=t[n]}))}(window)},function(e,n){!function(e){e.initDataPanels=function(){for(var e=document.getElementsByClassName("data-panel-header"),n=0;n<e.length;n++){e[n].nextElementSibling.style.display="none",e[n].addEventListener("click",(function(){var e=this.nextElementSibling;this.classList.toggle("active"),"block"===e.style.display?e.style.display="none":e.style.display="block"}))}},e.openPanel=function(){e.location.hash&&(document.querySelectorAll(".data-panel-header").classList.addClass("active"),document.querySelectorAll(".data-panel-body").style.display="block")}}(window)},function(e,n){var t,r;window,t=document.getElementById("create-message-form"),r=document.getElementById("btn-send-message"),t&&r&&t.addEventListener("submit",(function(e){r.attributes.disabled="disabled"}))},function(e,n){window.readCSV={__private__:{}},window.readCSV.__private__.getOutputTemplate=function(e,n){var t="";return t+="<div class='panel panel--info'>",t+="  <div class='panel__header'>",t+="    <h3 class='u-fs-r--b u-mb-no'>Sample contents</h3>",t+="  </div>",t+="  <div class='panel__body'>",t+="    <div id='sample-preview-businesses'>Number of businesses: "+e+"</div>",t+="    <div id='sample-preview-ci'>Collection instruments: "+n+"</div>",t+="  </div>",t+="</div>"},window.readCSV.__private__.renderUI=function(e,n){document.getElementById("sample-preview").innerHTML=window.readCSV.__private__.getOutputTemplate(e,n),document.getElementById("btn-check-sample-contents").classList.add("u-vh"),document.getElementById("btn-load-sample").classList.remove("u-vh"),document.getElementById("btn-cancel-load-sample").classList.remove("u-vh")},window.readCSV.__private__.errorHandler=function(e){"NotReadableError"==e.target.error.name&&alerts.error("Error Uploading file","The selected file was not readable.")},window.readCSV.__private__.browserHasFileLoaderCapability=function(){return window.hasOwnProperty("FileReader")},window.readCSV.__private__.processFile=function(e,n){for(var t,r=e.target.result.split(/\r\n|\n/),a=[],i=[];r.length;){var l=r.shift().split(":");l&&l.length&&l[0]&&i.push(l)}if(n.indexOf("RU_REF")>-1)t=i.length;else if(n.indexOf("FORM_TYPE")>-1){for(var o=0;o<i.length;o++)a.push(i[o][i[o].length-2]);t=a.filter((function(e,n,t){return t.indexOf(e)===n})).length}window.readCSV.__private__.renderUI(i.length,t)},window.readCSV.handleFiles=function(e,n){if(window.readCSV.__private__.browserHasFileLoaderCapability()){var t=new FileReader;t.onload=function(e){window.readCSV.__private__.processFile(e,n)},t.onerror=window.readCSV.__private__.errorHandler,t.readAsText(e[0])}else alerts.warn("Your browser does not support file uploading.  Uploading of samples will not be possible.")},window.readCSV.cancelLoadSample=function(){document.getElementById("sample-preview").innerHTML="",document.getElementById("form-load-sample").reset(),document.getElementById("btn-check-sample-contents").classList.remove("u-vh"),document.getElementById("btn-load-sample").classList.add("u-vh"),document.getElementById("btn-cancel-load-sample").classList.add("u-vh"),document.getElementById("sampleFile").focus()}},function(e,n){window.validateCI={__private__:{nodeClassesChange:function(e,n,t){if("string"==typeof n&&(n=[n]),!(e instanceof HTMLElement))throw new Error("Expected HTMLElement as first argument");if(!Array.isArray(n))throw new Error("Expected Array as second argument");if(-1===["add","remove"].indexOf(t))throw new Error("Expected add or remove as third parameter");n.map((function(n){return e.classList[t](n)}))},arrayLikeToArray:function(e){if(!("length"in e)&&!("size"in e))throw new Error("Expected array-like object as argument");return Array.prototype.slice.call(e)}},checkCI:function(e){var n=this,t=e.type,r=document.getElementById("ciFileErrorPanel"),a=document.getElementById("ciFileErrorPanelBody"),i=document.getElementById("btn-load-ci"),l="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"===t||"application/vnd.ms-excel"===t,o=l?"remove":"add",d=l?"add":"remove";this.__private__.nodeClassesChange(r,["panel","panel--simple","panel--error"],o),this.__private__.nodeClassesChange(a,["panel__body"],o),this.__private__.nodeClassesChange(i,["btn--disabled"],d),this.__private__.arrayLikeToArray(a.querySelectorAll("p:not(.field)")).forEach((function(e){n.__private__.nodeClassesChange(e,["hidden"],d),n.__private__.nodeClassesChange(i,["btn--disabled"],o)}))},checkSelectedCI:function(e){window.FileReader&&validateCI.checkCI(e[0])}}}]);
//# sourceMappingURL=main.min.js.map