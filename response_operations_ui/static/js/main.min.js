/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./response_operations_ui/assets/js/includes/alert-library.js":
/*!********************************************************************!*\
  !*** ./response_operations_ui/assets/js/includes/alert-library.js ***!
  \********************************************************************/
/***/ (() => {

(function (window) {
  var publicFunctions = {};
  var privateFunctions = {};
  privateFunctions._getErrorContainer = function () {
    return document.getElementById('error-alerts');
  };
  privateFunctions._clearAlerts = function () {
    privateFunctions._getErrorContainer().innerHTML = '';
  };
  privateFunctions._getPanelTemplateHtml = function (title, message, panelClass) {
    var markUp = '';
    markUp += '<div class="ons-u-mt-l ons-panel ons-panel--' + (panelClass || 'error') + '">';
    markUp += '    <div class="ons-panel__header">';
    markUp += '        <div class="ons-u-fs-r--b">' + title + '</div>';
    markUp += '    </div>';
    markUp += '    <div class="ons-panel__body">';
    markUp += '        <div>' + message + '</div>';
    markUp += '    </div>';
    markUp += '</div>';
    return markUp;
  };
  privateFunctions._getSimplePanelTemplateHtml = function (message, panelClass) {
    var markUp = '';
    markUp += '<div class="ons-u-mt-l ons-panel ons-panel--simple ons-panel--' + (panelClass || 'error') + '">';
    markUp += '    <div class="ons-panel__body">';
    markUp += '        <div>' + message + '</div>';
    markUp += '    </div>';
    markUp += '</div>';
    return markUp;
  };
  privateFunctions._showAlert = function (title, message, className) {
    privateFunctions._clearAlerts();
    if (title) {
      return privateFunctions._getErrorContainer().innerHTML = privateFunctions._getPanelTemplateHtml(title, message, className || false);
    }
    return privateFunctions._getErrorContainer().innerHTML = privateFunctions._getSimplePanelTemplateHtml(message, className || false);
  };
  ['success', 'error', 'warn', 'info'].forEach(function (alertFunctionName) {
    publicFunctions[alertFunctionName] = function (title, message) {
      privateFunctions._showAlert(title, message, alertFunctionName);
    };
  });

  // Add all public functions to global object
  window.alerts = {
    __private__: {}
  };
  Object.keys(publicFunctions).forEach(function (key) {
    window.alerts[key] = publicFunctions[key];
  });
  Object.keys(privateFunctions).forEach(function (key) {
    window.alerts.__private__[key] = privateFunctions[key];
  });
})(window);

/***/ }),

/***/ "./response_operations_ui/assets/js/includes/disable-send.js":
/*!*******************************************************************!*\
  !*** ./response_operations_ui/assets/js/includes/disable-send.js ***!
  \*******************************************************************/
/***/ (() => {

(function (window) {
  var createMessageForm = document.getElementById('create-message-form');
  var buttonSendMessage = document.getElementById('btn-send-message');
  if (createMessageForm && buttonSendMessage) {
    createMessageForm.addEventListener('submit', function (event) {
      buttonSendMessage.attributes.disabled = 'disabled';
    });
  }
})(window);

/***/ }),

/***/ "./response_operations_ui/assets/js/includes/read-csv.js":
/*!***************************************************************!*\
  !*** ./response_operations_ui/assets/js/includes/read-csv.js ***!
  \***************************************************************/
/***/ (() => {

window.readCSV = {
  __private__: {}
};
window.readCSV.__private__.getOutputTemplate = function (businessCount, ciCount) {
  var preview = '';
  preview += '<div class=\'panel panel--info\'>';
  preview += '  <div class=\'panel__header\'>';
  preview += '    <h3 class=\'u-fs-r--b u-mb-no\'>Sample contents</h3>';
  preview += '  </div>';
  preview += '  <div class=\'panel__body\'>';
  preview += '    <div id=\'sample-preview-businesses\'>Number of businesses: ' + businessCount + '</div>';
  preview += '    <div id=\'sample-preview-ci\'>Collection instruments: ' + ciCount + '</div>';
  preview += '  </div>';
  preview += '</div>';
  return preview;
};
window.readCSV.__private__.renderUI = function (businessCount, ciCount) {
  document.getElementById('sample-preview').innerHTML = window.readCSV.__private__.getOutputTemplate(businessCount, ciCount);
  document.getElementById('btn-upload-sample').disabled = false;
};
window.readCSV.__private__.errorHandler = function (evt) {
  if (evt.target.error.name == 'NotReadableError') {
    alerts.error('Error Uploading file', 'The selected file was not readable.');
  }
};
window.readCSV.__private__.browserHasFileLoaderCapability = function () {
  return window.hasOwnProperty('FileReader');
};
window.readCSV.__private__.processFile = function (event, classifiers) {
  var csv = event.target.result;
  var allTextLines = csv.split(/\r\n|\n/);
  var classifierColumn = [];
  var lines = [];
  var ciCount;
  while (allTextLines.length) {
    var line = allTextLines.shift().split(':');
    if (line && line.length && line[0]) {
      lines.push(line);
    }
  }
  if (classifiers.indexOf('RU_REF') > -1) {
    ciCount = lines.length; // each line should be a distinct RU_REF (sampleUnitRef)
  } else if (classifiers.indexOf('FORM_TYPE') > -1) {
    // Put the form types into their own separate array, so we can interrogate it faster
    for (var i = 0; i < lines.length; i++) {
      classifierColumn.push(lines[i][lines[i].length - 2]);
    }
    ciCount = classifierColumn.filter(function (val, i, arr) {
      return arr.indexOf(val) === i;
    }).length;
  }
  window.readCSV.__private__.renderUI(lines.length, ciCount);
};
window.readCSV.handleFiles = function (files, classifiers) {
  if (window.readCSV.__private__.browserHasFileLoaderCapability()) {
    var reader = new FileReader();
    reader.onload = function (evt) {
      window.readCSV.__private__.processFile(evt, classifiers);
    };
    reader.onerror = window.readCSV.__private__.errorHandler;
    reader.readAsText(files[0]);
  } else {
    alerts.warn('Your browser does not support file uploading.  Uploading of samples will not be possible.');
  }
};
window.readCSV.handleFileUpload = function () {
  document.getElementById('btn-upload-sample').classList.add('is-loading');
  document.getElementById('btn-upload-sample').style.pointerEvents = "none";
  document.getElementById('btn-upload-sample').disabled = false;
};

/***/ }),

/***/ "./response_operations_ui/assets/js/includes/validate-ci.js":
/*!******************************************************************!*\
  !*** ./response_operations_ui/assets/js/includes/validate-ci.js ***!
  \******************************************************************/
/***/ (() => {

window.validateCI = {
  __private__: {
    nodeClassesChange: function nodeClassesChange(node, classes, action) {
      if (typeof classes === 'string') classes = [classes];
      if (!(node instanceof HTMLElement)) throw new Error('Expected HTMLElement as first argument');
      if (!Array.isArray(classes)) throw new Error('Expected Array as second argument');
      if (['add', 'remove'].indexOf(action) === -1) throw new Error('Expected add or remove as third parameter');
      classes.map(function (c) {
        return node.classList[action](c);
      });
    },
    arrayLikeToArray: function arrayLikeToArray(arrayLike) {
      if (!('length' in arrayLike) && !('size' in arrayLike)) throw new Error('Expected array-like object as argument');
      return Array.prototype.slice.call(arrayLike);
    }
  },
  checkCI: function checkCI(file) {
    var _this = this;
    var type = file.type;
    var errorPanel = document.getElementById('ciFileErrorPanel');
    var errorPanelBody = document.getElementById('ciFileErrorPanelBody');
    var button = document.getElementById('btn-load-ci');
    var fileIsODS = type === 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet' || type === 'application/vnd.ms-excel';
    var mainAction = fileIsODS ? 'remove' : 'add';
    var contraAction = fileIsODS ? 'add' : 'remove';
    this.__private__.nodeClassesChange(errorPanel, ['ons-panel', 'ons-panel--simple', 'ons-panel--error'], mainAction);
    this.__private__.nodeClassesChange(errorPanelBody, ['ons-panel__body'], mainAction);
    this.__private__.nodeClassesChange(button, ['ons-btn--disabled'], contraAction);
    this.__private__.arrayLikeToArray(errorPanelBody.querySelectorAll('p:not(.field)')).forEach(function (el) {
      _this.__private__.nodeClassesChange(el, ['hidden'], contraAction);
      _this.__private__.nodeClassesChange(button, ['ons-btn--disabled'], mainAction);
    });
  },
  checkSelectedCI: function checkSelectedCI(files) {
    // Check for the various File API support.
    if (window.FileReader) {
      // FileReader is supported.
      validateCI.checkCI(files[0]);
    }
  }
};

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	(() => {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/publicPath */
/******/ 	(() => {
/******/ 		var scriptUrl;
/******/ 		if (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + "";
/******/ 		var document = __webpack_require__.g.document;
/******/ 		if (!scriptUrl && document) {
/******/ 			if (document.currentScript)
/******/ 				scriptUrl = document.currentScript.src;
/******/ 			if (!scriptUrl) {
/******/ 				var scripts = document.getElementsByTagName("script");
/******/ 				if(scripts.length) {
/******/ 					var i = scripts.length - 1;
/******/ 					while (i > -1 && (!scriptUrl || !/^http(s?):/.test(scriptUrl))) scriptUrl = scripts[i--].src;
/******/ 				}
/******/ 			}
/******/ 		}
/******/ 		// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration
/******/ 		// or pass an empty string ("") and set the __webpack_public_path__ variable from your code to use your own logic.
/******/ 		if (!scriptUrl) throw new Error("Automatic publicPath is not supported in this browser");
/******/ 		scriptUrl = scriptUrl.replace(/#.*$/, "").replace(/\?.*$/, "").replace(/\/[^\/]+$/, "/");
/******/ 		__webpack_require__.p = scriptUrl + "../";
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be in strict mode.
(() => {
"use strict";
var __webpack_exports__ = {};
/*!**************************************************!*\
  !*** ./response_operations_ui/assets/js/main.js ***!
  \**************************************************/
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _includes_alert_library__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./includes/alert-library */ "./response_operations_ui/assets/js/includes/alert-library.js");
/* harmony import */ var _includes_alert_library__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_includes_alert_library__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _includes_disable_send__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./includes/disable-send */ "./response_operations_ui/assets/js/includes/disable-send.js");
/* harmony import */ var _includes_disable_send__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_includes_disable_send__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _includes_read_csv__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./includes/read-csv */ "./response_operations_ui/assets/js/includes/read-csv.js");
/* harmony import */ var _includes_read_csv__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_includes_read_csv__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _includes_validate_ci__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./includes/validate-ci */ "./response_operations_ui/assets/js/includes/validate-ci.js");
/* harmony import */ var _includes_validate_ci__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_includes_validate_ci__WEBPACK_IMPORTED_MODULE_3__);




})();

// This entry need to be wrapped in an IIFE because it need to be in strict mode.
(() => {
"use strict";
/*!******************************************************!*\
  !*** ./response_operations_ui/assets/scss/main.scss ***!
  \******************************************************/
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (__webpack_require__.p + "css/main.css");
})();

/******/ })()
;
//# sourceMappingURL=main.min.js.map