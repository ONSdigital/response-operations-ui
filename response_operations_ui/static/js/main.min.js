(()=>{var e={163:()=>{!function(e){var t={},n={_getErrorContainer:function(){return document.getElementById("error-alerts")},_clearAlerts:function(){n._getErrorContainer().innerHTML=""},_getPanelTemplateHtml:function(e,t,n){var r="";return r+='<div class="ons-u-mt-l ons-panel ons-panel--'+(n||"error")+'">',r+='    <div class="ons-panel__header">',r+='        <div class="ons-u-fs-r--b">'+e+"</div>",r+="    </div>",r+='    <div class="ons-panel__body">',r+="        <div>"+t+"</div>",(r+="    </div>")+"</div>"},_getSimplePanelTemplateHtml:function(e,t){var n="";return n+='<div class="ons-u-mt-l ons-panel ons-panel--simple ons-panel--'+(t||"error")+'">',n+='    <div class="ons-panel__body">',n+="        <div>"+e+"</div>",(n+="    </div>")+"</div>"},_showAlert:function(e,t,r){return n._clearAlerts(),n._getErrorContainer().innerHTML=e?n._getPanelTemplateHtml(e,t,r||!1):n._getSimplePanelTemplateHtml(t,r||!1)}};["success","error","warn","info"].forEach((function(e){t[e]=function(t,r){n._showAlert(t,r,e)}})),e.alerts={__private__:{}},Object.keys(t).forEach((function(n){e.alerts[n]=t[n]})),Object.keys(n).forEach((function(t){e.alerts.__private__[t]=n[t]}))}(window)},976:()=>{!function(e){e.initDataPanels=function(){for(var e=document.getElementsByClassName("data-panel-header"),t=0;t<e.length;t++)e[t].nextElementSibling.style.display="none",e[t].addEventListener("click",(function(){var e=this.nextElementSibling;this.classList.toggle("active"),"block"===e.style.display?e.style.display="none":e.style.display="block"}))},e.openPanel=function(){e.location.hash&&(document.querySelectorAll(".data-panel-header").classList.addClass("active"),document.querySelectorAll(".data-panel-body").style.display="block")}}(window)},869:()=>{var e,t;window,e=document.getElementById("create-message-form"),t=document.getElementById("btn-send-message"),e&&t&&e.addEventListener("submit",(function(e){t.attributes.disabled="disabled"}))},417:()=>{window.readCSV={__private__:{}},window.readCSV.__private__.getOutputTemplate=function(e,t){var n="";return n+="<div class='panel panel--info'>",n+="  <div class='panel__header'>",n+="    <h3 class='u-fs-r--b u-mb-no'>Sample contents</h3>",n+="  </div>",n+="  <div class='panel__body'>",n+="    <div id='sample-preview-businesses'>Number of businesses: "+e+"</div>",n+="    <div id='sample-preview-ci'>Collection instruments: "+t+"</div>",(n+="  </div>")+"</div>"},window.readCSV.__private__.renderUI=function(e,t){document.getElementById("sample-preview").innerHTML=window.readCSV.__private__.getOutputTemplate(e,t),document.getElementById("btn-upload-sample").disabled=!1},window.readCSV.__private__.errorHandler=function(e){"NotReadableError"==e.target.error.name&&alerts.error("Error Uploading file","The selected file was not readable.")},window.readCSV.__private__.browserHasFileLoaderCapability=function(){return window.hasOwnProperty("FileReader")},window.readCSV.__private__.processFile=function(e,t){for(var n,r=e.target.result.split(/\r\n|\n/),a=[],i=[];r.length;){var o=r.shift().split(":");o&&o.length&&o[0]&&i.push(o)}if(t.indexOf("RU_REF")>-1)n=i.length;else if(t.indexOf("FORM_TYPE")>-1){for(var l=0;l<i.length;l++)a.push(i[l][i[l].length-2]);n=a.filter((function(e,t,n){return n.indexOf(e)===t})).length}window.readCSV.__private__.renderUI(i.length,n)},window.readCSV.handleFiles=function(e,t){if(window.readCSV.__private__.browserHasFileLoaderCapability()){var n=new FileReader;n.onload=function(e){window.readCSV.__private__.processFile(e,t)},n.onerror=window.readCSV.__private__.errorHandler,n.readAsText(e[0])}else alerts.warn("Your browser does not support file uploading.  Uploading of samples will not be possible.")},window.readCSV.handleFileUpload=function(){document.getElementById("btn-upload-sample").classList.add("is-loading"),document.getElementById("btn-upload-sample").style.pointerEvents="none",document.getElementById("btn-upload-sample").disabled=!1}},176:()=>{window.onload=function(){var e=document.querySelectorAll("input[type=checkbox]"),t=document.querySelectorAll("input[type=checkbox]").length,n=0;document.getElementById("select-or-unselect-ci").onclick=function(){"Unselect all"===document.getElementById("select-or-unselect-ci").innerText?document.getElementById("ci-checked-count").innerHTML=t+" selected out of "+t+" available":document.getElementById("ci-checked-count").innerHTML="0 selected out of "+t+" available"},[].forEach.call(e,(function(e){e.addEventListener("change",(function(){n=document.querySelectorAll("input[type=checkbox]:checked").length,document.getElementById("ci-checked-count").innerHTML=n+" selected out of "+t+" available"}))}))}},564:()=>{window.validateCI={__private__:{nodeClassesChange:function(e,t,n){if("string"==typeof t&&(t=[t]),!(e instanceof HTMLElement))throw new Error("Expected HTMLElement as first argument");if(!Array.isArray(t))throw new Error("Expected Array as second argument");if(-1===["add","remove"].indexOf(n))throw new Error("Expected add or remove as third parameter");t.map((function(t){return e.classList[n](t)}))},arrayLikeToArray:function(e){if(!("length"in e)&&!("size"in e))throw new Error("Expected array-like object as argument");return Array.prototype.slice.call(e)}},checkCI:function(e){var t=this,n=e.type,r=document.getElementById("ciFileErrorPanel"),a=document.getElementById("ciFileErrorPanelBody"),i=document.getElementById("btn-load-ci"),o="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"===n||"application/vnd.ms-excel"===n,l=o?"remove":"add",s=o?"add":"remove";this.__private__.nodeClassesChange(r,["ons-panel","ons-panel--simple","ons-panel--error"],l),this.__private__.nodeClassesChange(a,["ons-panel__body"],l),this.__private__.nodeClassesChange(i,["ons-btn--disabled"],s),this.__private__.arrayLikeToArray(a.querySelectorAll("p:not(.field)")).forEach((function(e){t.__private__.nodeClassesChange(e,["hidden"],s),t.__private__.nodeClassesChange(i,["ons-btn--disabled"],l)}))},checkSelectedCI:function(e){window.FileReader&&validateCI.checkCI(e[0])}}}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");r.length&&(e=r[r.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e+"../"})(),(()=>{"use strict";n(163),n(976),n(869),n(417),n(564),n(176)})(),(()=>{"use strict";n.p})()})();
//# sourceMappingURL=main.min.js.map