{% extends "layouts/base.html" %}
{% from "components/button/_macro.njk" import onsButton %}
{% from "components/metadata/_macro.njk" import onsMetadata %}
{% from "components/fieldset/_macro.njk" import onsFieldset %}
{% from "components/input/_macro.njk" import onsInput %}
{% from "components/radios/_macro.njk" import onsRadios %}

{% set page_title = 'Delete survey' %}

{% block main %}
    <div class="ons-grid ons-grid--gutterless">
        <div class="ons-grid__col ons-col-10@m">
            {# TODO fix this errors section as it's bad #}
            {% if errors %}
                {% call
                    onsPanel({
                        "type":"error",
                        "title": "This page has 1 error",
                        "classes": "ons-u-mb-s",
                        "id": "save-error"
                    })
                %}
                    <h2 id="error-saving-message" class="ons-u-fs-r--b">Error updating survey details</h2>
                    <p>Please remove any spaces or special characters from the name and try saving your changes again.</p>
                {% endcall %}
            {% endif %}
            <h1 class="ons-u-fs-xxl">Delete survey</h1>
            <form action="" method="post">
                {{ form.csrf_token }}
                <p>Are you sure you want to delete the {{ long_name }} survey?</p>
                <p>There are no collection exercises for this survey</p>
                <div class="ons-grid ons-grid--flex ons-grid--gutterless ons-grid--vertical-center ons-grid--no-wrap@s ons-u-mt-m ons-u-mb-m">
                    <div class="ons-grid__col">
                        {{
                            onsButton({
                                "text": "Delete",
                                "id": "delete-btn"
                            })
                        }}
                    </div>
                      <div class="ons-grid__col ons-u-ml-s">
                        <a href="{{ url_for('surveys_bp.view_surveys') }}" role="button" class="ons-btn ons-btn--link ons-btn--secondary" id="btn-option-cancel">
                            <span class="ons-btn__inner">Cancel</span></a>
                    </div>
                </div>  
            </form>
        </div>
    </div>
{% endblock %}
