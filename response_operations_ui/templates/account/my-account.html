{% extends "layouts/base.html" %}
{% from "components/metadata/_macro.njk" import onsMetadata %}
{% from "components/radios/_macro.njk" import onsRadios %}
{% from "components/button/_macro.njk" import onsButton %}
{% set page_title = "Account details" %}

{% block main %}

{% include 'partials/flashed-messages.html' %}

<section>
  <h1 id="respondent-name">Account details</h1>
  <dl class="metadata metadata__list grid grid--gutterless u-cf u-mb-l" title="" aria-label="">
  <dt class="metadata__term grid__col col-4@m">Username:</dt>
  <dd class="metadata__value grid__col col-8@m">{{ user.username }}</dd>
  <dt class="metadata__term grid__col col-4@m">Name:</dt>
  <dd class="metadata__value grid__col col-8@m">{{ user.name }}</dd>
  <dt class="metadata__term grid__col col-4@m">Email address:</dt>
  <dd class="metadata__value grid__col col-8@m">{{ user.email }}</dd>
  <dt class="metadata__term grid__col col-4@m">Password:</dt>
  <dd class="metadata__value grid__col col-8@m">●●●●●●●●</dd>
  <dd class="metadata__value grid__col col-8@m u-ml-no u-mb-xs u-fs-s">(Last changed on {{ user.password_last_changed }})</dd>
</dl>
    <hr class="u-mb-l col-8@m">
</section>
<section>
  <h1 class="u-fs-xl">Help with account</h1>
  <form action="" method="post">
    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>
    {% set radioComponent = {
            "legend": "Choose an option",
            "name": "option",
            "id": "option",
            "error": errorOption,
        } %}
    {% set radios = [] %}
    {% do radios.append(
            {
                "id": "change_username",
                "label": {
                "text": "Change username"
                },
                "value": "change_username"
            }) %}
    {% do radios.append(
            {
                "id": "change_name",
                "label": {
                "text": "Change name"
                },
                "value": "change_name"
            }) %}
    {% do radioComponent | setAttribute("radios", radios) %}
    {{
      onsRadios(radioComponent)
    }}

    <div class="grid grid--flex grid--gutterless grid--vertical-center grid--no-wrap@s u-mt-m u-mb-m">
      <div class="grid__col">
        {{
          onsButton({
          "text": "Continue",
          "id": "btn-option-continue",
          "classes": 'btn-group__btn',
          "submitType": "timer"
          })
          }}
      </div>
    </div>
  </form>
</section>
{% endblock main%}
